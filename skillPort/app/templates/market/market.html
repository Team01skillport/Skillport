{% extends "base.html" %} {# === ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ« === #} {% block title
%}ãƒãƒ¼ã‚±ãƒƒãƒˆ{% endblock %} {# === ãƒšãƒ¼ã‚¸å›ºæœ‰ã®CSS === #} {% block styles %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/market.css') }}"
/>
{% endblock %} {# === ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ === #} {% block content %}
<main class="main-content">
  <div class="main-container">
    <div class="page-header">
      <h2 class="page-title">ãƒãƒ¼ã‚±ãƒƒãƒˆ</h2>

      <div class="search-bar">
        <span class="search-icon">ğŸ”</span>
        <input type="text" placeholder="æ¤œç´¢ãƒãƒ¼" class="product-search" />
      </div>

      {% if 'user_id' in session %}
      <div class="action-buttons">
        <a
          href="{{ url_for('market.manage_products_page') }}"
          class="btn btn-green"
        >
          <span class="btn-icon">â—</span> å‡ºå“ç®¡ç†
        </a>
        <button class="btn btn-yellow">
          <span class="btn-icon">â—</span> è³¼å…¥ç®¡ç†
        </button>
      </div>
      {% else %}
      <div class="action-buttons-placeholder"></div>
      {% endif %}
    </div>

    <div class="content-wrapper">
      <aside class="sidebar">
        <button class="filter-btn active">æ›´æ–°</button>

        <div class="sidebar-title">
          <span>çµã‚Šè¾¼ã¿</span>
        </div>

        <div class="filter-section" id="categoryFilter">
          <button class="filter-item toggle-filter-btn">
            <span>ã‚«ãƒ†ã‚´ãƒªãƒ¼</span><span class="arrow">ï¼</span>
          </button>
          <div
            class="filter-content filter-list-container"
            id="categoryListContainer"
            style="display: none"
          ></div>
        </div>

        <div class="filter-section" id="statusFilter">
          <button class="filter-item toggle-filter-btn">
            <span>è²©å£²çŠ¶æ³</span><span class="arrow">ï¼</span>
          </button>
          <div class="filter-content" style="display: none">
            <div class="filter-checkbox-group">
              <label
                ><input type="checkbox" name="sale_status" value="on_sale" />
                è²©å£²ä¸­</label
              >
              <label
                ><input type="checkbox" name="sale_status" value="sold_out" />
                å£²ã‚Šåˆ‡ã‚Œ</label
              >
            </div>
          </div>
        </div>

        <div class="filter-section" id="sellerFilter">
          <button class="filter-item toggle-filter-btn">
            <span>å‡ºå“è€…</span><span class="arrow">ï¼</span>
          </button>
          <div class="filter-content" style="display: none">
            <p style="font-size: 14px; color: #888">(æœªå®Ÿè£…)</p>
          </div>
        </div>

        <div class="filter-section" id="conditionFilter">
          <button class="filter-item toggle-filter-btn">
            <span>å•†å“ã®çŠ¶æ…‹</span><span class="arrow">ï¼</span>
          </button>
          <div class="filter-content" style="display: none">
            <div class="filter-checkbox-group">
              <label
                ><input type="checkbox" name="condition" value="new" />
                æ–°å“ã€æœªä½¿ç”¨</label
              >
              <label
                ><input type="checkbox" name="condition" value="like_new" />
                æœªä½¿ç”¨ã«è¿‘ã„</label
              >
              <label
                ><input type="checkbox" name="condition" value="good" />
                ç›®ç«‹ã£ãŸå‚·ã‚„æ±šã‚Œãªã—</label
              >
              <label
                ><input type="checkbox" name="condition" value="fair" />
                ã‚„ã‚„å‚·ã‚„æ±šã‚Œã‚ã‚Š</label
              >
              <label
                ><input type="checkbox" name="condition" value="poor" />
                å‚·ã‚„æ±šã‚Œã‚ã‚Š</label
              >
            </div>
          </div>
        </div>

        <div class="filter-section" id="priceFilter">
          <button class="filter-item toggle-filter-btn">
            <span>ä¾¡æ ¼</span><span class="arrow">ï¼</span>
          </button>
          <div
            class="filter-content price-filter-content"
            style="display: none"
          >
            <div class="price-inputs">
              <input
                type="number"
                placeholder="Â¥ Min"
                class="price-input"
                min="0"
              />
              <span>-</span>
              <input
                type="number"
                placeholder="Â¥ Max"
                class="price-input"
                min="0"
              />
            </div>
            <button class="btn-apply-price">é©ç”¨</button>
          </div>
        </div>
      </aside>
      <div class="products-area">
        <div class="products-header"></div>

        <div class="product-grid" id="productGrid">
          {% for product in all_products %}
          <a href=""
            ><div class="product-container">
              <h5>ç”»åƒã“ã“</h5>
              <h3>{{product.product_name}}</h3>
              <p>
                {{product.product_price}}å†† ï½œ {{product.product_condition}}
              </p>
              <p>{{product.listing_date}}</p>
            </div></a
          >

          {% endfor %}
        </div>

        <button class="load-more">ã‚‚ã£ã¨è¦‹ã‚‹</button>
      </div>
    </div>
  </div>
</main>

{% endblock %}
