{% extends "base.html" %} {% block title %}商品詳細画面{% endblock %} {% block
content %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/product_detail.css') }}"
/>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/popup_report.css') }}"
/>
<div class="page-wrap">
  <main class="product-section">
    <div class="image-area">
      <div class="thumbnails">
        <img
          src="{{ url_for('static', filename='media/book.jpg') }}"
          class="thumb active"
          alt="サムネイル1"
        />
        <img
          src="{{ url_for('static', filename='media/bookback.jpg') }}"
          class="thumb"
          alt="サムネイル2"
        />
      </div>
      <div class="main-image">
        <img
          id="mainImage"
          src="{{ url_for('static', filename='media/book.jpg') }}"
          alt="メイン商品画像"
        />
      </div>
    </div>

    <div class="info-area">
      <h1>{{info.product_name}}</h1>
      <p class="price">¥{{info.product_price}}(税込)</p>

      <div class="action-buttons">
        <a href="#" class="btn">♡ お気に入り</a>
        <a href="#" class="btn">💬 コメント</a>
        <a href="#" class="btn">📩 連絡</a>
        <a href="#" class="btn" id="reportBtn">通報</a>
      </div>

      <a href="{{ url_for('market.checkout_page', product_id=info.product_id) }}" class="buy-btn">購入</a>

      <div class="desc">
        <h2>商品の説明</h2>
        <p>{{info.product_description}}</p>
      </div>

      <div class="detail">
        <h2>商品の情報</h2>
        <ul>
          <li>商品の状態：<b>{{info.product_condition}}</b></li>
          <li>配送元の地域：<b>{{info.shipping_area}}</b></li>
        </ul>
      </div>
    </div>
  </main>

  <section class="bottom-section">
    <div class="comment-box">
      <button class="comment-btn">コメント投稿</button>
      <h3>コメント一覧</h3>
      <ul>
        <li>
          <img
            src="{{ url_for('static', filename='media/profile_icon.png') }}"
            alt=""
          />
          <div class="bubble">ふふはは</div>
        </li>
        <li>
          <img
            src="{{ url_for('static', filename='media/profile_icon.png') }}"
            alt=""
          />
          <div class="bubble">ググがが</div>
        </li>
        <li>
          <img
            src="{{ url_for('static', filename='media/profile_icon.png') }}"
            alt=""
          />
          <div class="bubble">ううわわ</div>
        </li>
        <li>
          <img
            src="{{ url_for('static', filename='media/profile_icon.png') }}"
            alt=""
          />
          <div class="bubble">ちちがが</div>
        </li>
      </ul>
    </div>

<div class="seller-box">
      <h3>出品者</h3>
      <div class="seller-info">
        
        {% if info.seller_icon %}
          <img src="{{ url_for('static', filename=info.seller_icon[1:]) }}" alt="出品者アイコン">
        {% else %}
          <img src="{{ url_for('static', filename='media/profile_icon.png') }}" alt="デフォルトアイコン">
        {% endif %}

        <div class="text">
          <h4><a href="#">{{ info.seller_name }}</a></h4>
          
          <p>{{ info.seller_tags }}</p>

          <p>⭐️⭐️⭐️⭐️☆ (評価は後で実装)</p>
        </div>
        <a href="#" class="follow-btn">フォローする</a>
      </div>
    </div>

<div id="reportModal" class="modal hidden">
  <div class="modal-content">
    <h2>通報</h2>
    <form id="reportForm">
      <label
        ><input type="radio" name="reason" value="不適切" />
        公序良俗に反する内容を含む</label
      ><br />
      <label
        ><input type="radio" name="reason" value="違法商品" />
        違法・禁止商品の出品</label
      ><br />
      <label
        ><input type="radio" name="reason" value="著作権侵害" />
        著作権・商標権の侵害</label
      ><br />
      <label
        ><input type="radio" name="reason" value="虚偽" /> 商品説明が虚偽</label
      ><br />
      <label><input type="radio" name="reason" value="その他" /> その他</label
      ><br />
      <textarea
        name="detail"
        rows="4"
        placeholder="詳細内容を入力してください"
      ></textarea>
      <div class="modal-buttons">
        <button type="button" id="closeModal">キャンセル</button>
        <button type="submit" id="submitReport">報告</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}
